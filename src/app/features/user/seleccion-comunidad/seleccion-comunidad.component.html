<div class="home-page-public" style="display: flex; flex-direction: column; min-height: 100vh;">

<!-- Header personalizado -->
<header class="bg-white py-3 shadow-sm fixed-top"
  style="border-bottom: 2px solid #A9A9A9; box-shadow: 0 4px 10px rgba(169, 169, 169, 0.5);">
  <div class="container d-flex align-items-center">

    <!-- Botones de navegaciÃ³n a la izquierda -->
    <div class="d-flex gap-2">
      <a class="btn btn-outline-secondary d-flex align-items-center gap-1"
         routerLink="/user/mis-comunidades">
        <i class="bi bi-arrow-left-circle"></i>
        <span>AtrÃ¡s</span>
      </a>
      <a class="btn btn-outline-primary d-flex align-items-center gap-1"
         routerLink="/presentacion/inicio">
        <i class="bi bi-house-fill"></i>
        <span>Inicio</span>
      </a>
    </div>

    <!-- Controles a la derecha -->
    <div class="d-flex align-items-center gap-2 ms-auto">
      <input type="text"
             class="form-control"
             placeholder="Buscar comunidad"
             style="max-width: 207px;"
             [(ngModel)]="busqueda"
             (input)="filtrarComunidades()" />
      <button class="btn btn-outline-danger d-flex align-items-center gap-1"
              (click)="cerrarSesion()">
        <i class="bi bi-box-arrow-right"></i>
        <span>Cerrar SesiÃ³n</span>
      </button>
    </div>

  </div>
</header>



  <!-- Main Content -->
  <main class="main-content" style="margin-top: 100px; flex: 1;">
    <section class="py-5 text-center">
      <div class="container">
        <h1 class="mb-3">Comunidad</h1>
        <p class="mb-4">Conecta con personas afines y vive experiencias Ãºnicas.</p>

        <div class="carousel-wrapper">

          <!-- Flechas ahora estÃ¡n FUERA del div.carousel -->
          <button class="arrow arrow-left" (click)="prevSlide()">&#10094;</button>

          <div class="carousel">
            <div *ngFor="let community of comunidadesFiltradas; let i = index"
                class="carousel-card"
                [class.center]="i === currentIndex"
                [style.transform]="getTransform(i)">
              <img [src]="'data:image/png;base64,' + community.imagen" [alt]="community.nombre">
            </div>
          </div>

          <button class="arrow arrow-right" (click)="nextSlide()">&#10095;</button>

          <!-- Info comunidad -->
          <div class="text-center mt-4">
            <h2 class="fw-bold">{{ currentCommunity?.nombre }}</h2>
            <p class="text-muted">{{ currentCommunity?.slogan }}</p>
            <button class="btn btn-primary" (click)="unirse()">Unirme</button>
          </div>
        </div>


        <p class="mt-3 text-muted">
          Al registrarte, aceptas los <a href="#">TÃ©rminos del Servicio</a> y la
          <a href="#">PolÃ­tica de Privacidad</a>.
        </p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-footer-custom">
    <div class="container">
      <div class="row">
        <div class="col-md-8 text-center text-md-start">
          <h2 class="h5">Contact Us</h2>
          <p class="lead">Â¿Tienes alguna pregunta? Â¡ContÃ¡ctanos!</p>
        </div>
        <div class="col-md-4 d-flex align-items-center justify-content-md-end justify-content-center">
          <p class="mb-0">ðŸ“ž 785468545</p>
        </div>
      </div>
    </div>
  </footer>
</div>
