<div class="form-container">
  <h2>Cambiar contraseÃ±a</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-card">
    
    <div class="form-group">
      <label>ContraseÃ±a actual</label>
      <div class="input-con-icono">
        <input [type]="mostrarActual ? 'text' : 'password'" formControlName="actual" placeholder="ContraseÃ±a actual" />
        <button type="button" (click)="toggleMostrarActual()">ğŸ‘ï¸</button>
      </div>
    </div>

    <div class="form-group">
      <label>ContraseÃ±a nueva</label>
      <div class="input-con-icono">
        <input [type]="mostrarNueva ? 'text' : 'password'" formControlName="nueva" placeholder="ContraseÃ±a nueva" />
        <button type="button" (click)="toggleMostrarNueva()">ğŸ‘ï¸</button>
      </div>
      <p class="error" *ngIf="form.get('nueva')?.touched && form.get('nueva')?.errors?.['minlength']">
        âš ï¸ La contraseÃ±a debe tener al menos 8 caracteres.
      </p>
      <p class="error" *ngIf="form.touched && form.errors?.['igualActual']">
        âš ï¸ La nueva contraseÃ±a no puede ser igual a la anterior.
      </p>
    </div>

    <div class="form-group">
      <label>Repita la contraseÃ±a nueva</label>
      <div class="input-con-icono">
        <input [type]="mostrarRepetir ? 'text' : 'password'" formControlName="repetir" placeholder="Repita la contraseÃ±a nueva" />
        <button type="button" (click)="toggleMostrarRepetir()">ğŸ‘ï¸</button>
      </div>
      <p class="error" *ngIf="form.get('repetir')?.touched && form.get('repetir')?.errors?.['minlength']">
        âš ï¸ La contraseÃ±a debe tener al menos 8 caracteres.
      </p>
      <p class="error" *ngIf="form.touched && form.errors?.['noCoincide']">
        âš ï¸ Las contraseÃ±as nuevas no coinciden.
      </p>
    </div>

    <div class="botones">
      <button type="submit" class="btn-cambiar" [disabled]="form.invalid">Cambiar</button>
    </div>

    <p class="error" *ngIf="error">{{ error }}</p>
    <p class="success" *ngIf="success">{{ success }}</p>
  </form>
</div>
